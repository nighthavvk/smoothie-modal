!function(o){var e={currentScrollTop:0,wrapperTop:0,$modalWrapper:o(".js-modal-wrapper"),$mainContainer:o(window),$openTrigger:o(".js-modal-open"),$closeTrigger:o(".js-modal-close"),getScrollTop:function(){return this.$mainContainer.scrollTop()},getItems:function(e){var a=o(e).data("modal"),n={modalWindow:o('.js-modal-window[data-modal="'+a+'"]'),modalOverlay:o('.js-modal-overlay[data-modal="'+a+'"]')};return n},getNumOfOpenModals:function(){return parseInt(o(".js-modal-window.smoothie-modal-open").length)},setModalIndex:function(o,e){var a=this.getNumOfOpenModals(),n=parseInt(o.css("z-index"));o.css("z-index",n*a),e.css("z-index",n*a-10)},isAnyModalOpen:function(){return 0===this.getNumOfOpenModals()?!1:!0},isModalOutOfBounds:function(o){return o.outerHeight()>this.$mainContainer.outerHeight()?!0:!1},open:function(e,a){this.isAnyModalOpen()||(currentScrollTop=this.getScrollTop(),wrapperTop=o(".js-modal-wrapper").css("top")),e.addClass("smoothie-modal-open"),a.addClass("smoothie-modal-open"),this.setModalIndex(e,a),this.$modalWrapper.addClass("smoothie-modal-fixed"),this.$modalWrapper.css("top",-currentScrollTop),this.$mainContainer.scrollTop(0)},close:function(o,e){o.removeClass("smoothie-modal-open"),e.removeClass("smoothie-modal-open"),this.isAnyModalOpen()||(this.$modalWrapper.removeClass("smoothie-modal-fixed"),this.$modalWrapper.css("top",wrapperTop),this.$mainContainer.scrollTop(currentScrollTop))}};o(document).ready(function(){e.$openTrigger.click(function(){modalItems=e.getItems(this),e.open(modalItems.modalWindow,modalItems.modalOverlay)}),e.$closeTrigger.click(function(){modalItems=e.getItems(this),e.close(modalItems.modalWindow,modalItems.modalOverlay)})})}(jQuery);
